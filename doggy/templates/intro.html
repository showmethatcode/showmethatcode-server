{% load static %}
<!DOCTYPE html>
<html>
    <head>
        <title>ë‚´ê²Œ ë§ëŠ” ëŒ•ëŒ•ì´ ì°¾ê¸°</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <link href="{% static 'css/doggy_intro.css' %}" rel='stylesheet'>
      <script>
      $(document).ready(function(){
        let choice_list = []
        $('input[type=radio]').click(function() {
          const questionSet = $(this).closest('.question-set');
          const id = questionSet.data('questionId');
          const nextQuestionSet = $(`.question-set[data-question-id=${id + 1}]`)

          if (nextQuestionSet.length > 0) {
            nextQuestionSet.fadeIn(700);
            let choice = $(this).attr('id');

          } else {
            $('form').submit()
            {% comment %} $(location).attr('href', '/doggy/ddd/') {% endcomment %}
          }
        })
      });
      </script>
    </head>
    <body>
    <form method="POST" action="/doggy/">
        <div class="title">ë‚´ê²Œ ë§ëŠ”<br>ëŒ•ëŒ•ì´ ì°¾ê¸° ğŸ¶</div>
        <div class="sub-title">ë‚˜ë‘ ì˜ ë§ëŠ” ëŒ•ëŒ•ì´ë¥¼ 1ë¶„ë§Œì— í™•ì¸í•´ë³´ì„¸ìš”.</div>
        {% for question in questions %}
          {% if question.pk == 1 %}
          <div class='question-set' data-question-id="{{ question.pk }}">
          {% else %}
          <div class='question-set' data-question-id="{{ question.pk }}" style="display: none;">
          {% endif %}
            <div class='question-container'>
              <div class="sub-title2">{{ question.question }}</div>
              <div class="question-number">({{ question.pk }}/10)</div>
            </div>
            <div class="radio-toolbar">
            {% for choice in choices %}
              {% if choice.question.pk == question.pk %}
              <input type="radio" id="{{ choice.pk }}" name="radio-container{{ question.pk }}" value="{{ choice.pk }}">
              <label for="{{ choice.pk }}" class="{{ question.pk }}">{{ choice.text }}</label>
              {% endif %}
            {% endfor %}
            </div>
          </div>
      {% endfor %}
      </form>
    </body>
</html>
